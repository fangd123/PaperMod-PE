{{ $src := .Get "src" }}
{{ $poster := .Get "poster" | default "" }}
{{ $title := .Get "title" | default "Video" }}
{{ $lang := .Get "lang" | default "zh-CN" }}

<link rel="stylesheet" href="https://cdn.vidstack.io/player/theme.css" />
<link rel="stylesheet" href="https://cdn.vidstack.io/player/audio.css" />
<script src="https://cdn.vidstack.io/player" type="module"></script>

<script type="module">
    const CHINESE = {
      'Caption Styles': '字幕样式',
      'Captions look like this': '字幕看起来像这样',
      'Closed-Captions Off': '关闭字幕',
      'Closed-Captions On': '开启字幕',
      'Display Background': '显示背景',
      'Enter Fullscreen': '进入全屏',
      'Enter PiP': '进入画中画',
      'Exit Fullscreen': '退出全屏',
      'Exit PiP': '退出画中画',
      'Google Cast': 'Google投屏',
      'Keyboard Animations': '键盘动画',
      'Seek Backward': '快退',
      'Seek Forward': '快进',
      'Skip To Live': '跳至直播',
      'Text Background': '文本背景',
      Accessibility: '无障碍',
      AirPlay: 'AirPlay',
      Announcements: '公告',
      Audio: '音频',
      Auto: '自动',
      Boost: '增强',
      Captions: '字幕',
      Chapters: '章节',
      Color: '颜色',
      Connected: '已连接',
      Connecting: '连接中',
      Continue: '继续',
      Default: '默认',
      Disabled: '已禁用',
      Disconnected: '已断开连接',
      Download: '下载',
      Family: '字体',
      Font: '字体',
      Fullscreen: '全屏',
      LIVE: '直播',
      Loop: '循环',
      Mute: '静音',
      Normal: '正常',
      Off: '关闭',
      Opacity: '不透明度',
      Pause: '暂停',
      PiP: '画中画',
      Play: '播放',
      Playback: '回放',
      Quality: '质量',
      Replay: '重播',
      Reset: '重置',
      Seek: '跳转',
      Settings: '设置',
      Shadow: '阴影',
      Size: '大小',
      Speed: '速度',
      Text: '文本',
      Track: '轨道',
      Unmute: '取消静音',
      Volume: '音量',
    };
    
    window.addEventListener('load', () => {
      const layout = document.querySelector('media-audio-layout');
      if (layout) {
        layout.translations = CHINESE;
      }
    });
    </script>

<media-player
  title="{{ $title }}"
  src="{{ $src }}"
  {{ if $poster }}poster="{{ $poster }}"{{ end }}
  aspect-ratio="16/9"
>
    <media-provider></media-provider>
    <media-audio-layout>
    </media-audio-layout>
</media-player>